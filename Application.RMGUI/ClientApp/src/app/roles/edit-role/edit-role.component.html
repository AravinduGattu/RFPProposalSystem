<form [formGroup]="roleservice.roleForm">

  <div class="popheader">
    Edit Project Role
    <span (click)="onClose()" style="float:right; cursor:pointer; background-color:inherit; border:none"><mat-icon>clear</mat-icon></span>
  </div>

  <!--<div class="col-md-12">
  <mat-toolbar>
  <!--<mat-label style="width: 100%;color:rgb(255, 51, 51);font-size:large">{{title}} </mat-label>&nbsp;&nbsp;&nbsp;-->
  <!--<mat-label style="width: 100%;color:rgb(47, 72, 131);font-size:large">{{title}} </mat-label>
  <button style="float:right; background-color:inherit; border:none" (click)="onClose()"><mat-icon>clear</mat-icon></button>
  </mat-toolbar><br /><br>
  </div>-->

  <div class="row">
    <div class="col-md-4">
      <mat-label>Employee Id</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <input matInput [readonly]="!editable" type="text" formControlName="employee_Id">
        <mat-error *ngIf="hasError('employee_Id','required')">Employee Id is required</mat-error>
      </mat-form-field><br />
    </div>

    <div class="col-md-4">
      <mat-label>Employee Name</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <input matInput [readonly]="!editable" formControlName="employee_Name">
        <mat-error *ngIf="hasError('employee_Name','required')">Employee Name is required</mat-error>
      </mat-form-field><br />
    </div>

    <div class="col-md-4">
      <mat-label>Employee Designation</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <input matInput [readonly]="!editable" type="text" formControlName="role_Designation">
        <mat-error *ngIf="hasError('role_Designation','required')">Designation is required</mat-error>
      </mat-form-field><br />
    </div>
  </div>


  <div class="row">
    <div class="col-md-4">
      <mat-label>Project Name</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <mat-select formControlName="project_Name">
          <mat-option *ngFor="let prj of prjdroplist;" [value]="prj.project_Name">{{prj.project_Name}}</mat-option>
        </mat-select>
      </mat-form-field><br>
    </div>

    <div class="col-md-4">
      <mat-label>Project Role</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <input matInput formControlName="role_Projects" [matAutocomplete]="prjrole">
        <mat-error *ngIf="hasError('role_Projects','required')">Project role is required</mat-error>
      </mat-form-field><br />
      <mat-autocomplete #prjrole="matAutocomplete">
        <mat-option *ngFor="let prjrole of prjrolelist;" [value]="prjrole.project_roles">{{prjrole.project_roles}}</mat-option>
      </mat-autocomplete>
    </div>

    <div class="col-md-4">
      <mat-label>Role Description</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <input matInput formControlName="role_Description">
        <mat-error *ngIf="hasError('role_Description','required')">Description is required</mat-error>
        <mat-error *ngIf="hasError('role_Description','maxlength')">You have more than 500 characters</mat-error>
      </mat-form-field><br />
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">
      <mat-label>Role Assign Date</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <input matInput (focus)="RoleAsnDate.open()" [max]="roleservice.roleForm.controls['role_EndDate'].value" [readonly]="!editable" [matDatepicker]="RoleAsnDate" formControlName="role_StartDate">
        <mat-datepicker-toggle matSuffix [for]="RoleAsnDate"></mat-datepicker-toggle>
        <mat-datepicker #RoleAsnDate></mat-datepicker>
        <mat-error *ngIf="hasError('role_StartDate','required')">Role Start Date is required</mat-error>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-label>Role End Date</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%;">
        <input matInput (focus)="RoleendDate.open()" [min]="roleservice.roleForm.controls['role_StartDate'].value"[matDatepicker]="RoleendDate" formControlName="role_EndDate">
        <mat-datepicker-toggle matSuffix [for]="RoleendDate"></mat-datepicker-toggle>
        <mat-datepicker #RoleendDate></mat-datepicker>
        <mat-error *ngIf="hasError('role_EndDate','required')">Role End Date is required</mat-error>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-label>Role Status</mat-label>
      <mat-form-field style="width: 100%;padding:0% 2% 0% 2%">
        <mat-select [(value)]="selectedoption" formControlName="role_Status">
          <mat-option value="Active">
            Active
          </mat-option>
          <mat-option value="Inactive">
            Inactive
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

</form>
<div class="col-md-12">
  <button mat-raised-button color="primary" (click)="onUpdate()">Save</button>&nbsp;&nbsp;&nbsp;
  <!--<button mat-raised-button color="primary" (click)="onSubmit()">Submit</button>-->
  <button mat-raised-button color="warn" (click)="onClear()">Cancel</button>
</div>
